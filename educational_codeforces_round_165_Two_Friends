#include <bits/stdc++.h>
#define ll long long int
#define fr(i,n) for(int i=0;i<n;i++)
#define f(i,n) for(int i=1;i<n;i++)
using namespace std;
int main() {
  int t;
  cin>>t;
  while(t--){
int n;
cin>>n;
int a[n];
fr(i,n)
cin>>a[i];
bool is=false;
fr(i,n ){
  //  cout<<i+1<<a[a[i]]<<endl;
    if(i+1==a[a[i]-1]){
        is=true;
        break;
    }
}
if(is==true)
cout<<2;
else
cout<<3;
cout<<endl;
  }
}
